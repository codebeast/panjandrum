<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title>Client Management | Panjandrum </title>
    <div th:replace="fragments/header :: header"></div>
</head>
<body>

<nav>
    <div class="nav-wrapper">
        <div class="nav-wrapper">
            <div class="row">
                <div class="col s12">
                    <a href="/dashboard" class="breadcrumb">Dashboard</a>
                    <a href="/clients" class="breadcrumb">Client Manager</a>
                    <a href="#!" class="breadcrumb" th:text="${client} != null ? ${client.name} : 'Client Not Found'">Client</a>
                </div>
            </div>
        </div>
    </div>
</nav>

<div class="container" th:if="${client} == null">
    <div class="row">
        <div class="col s12">
            <p class="flow-text center">Looks like the client you were looking for doesn't exist, please try again</p>
        </div>
    </div>
</div>

<div class="container" th:if="${client} != null">
    <div th:replace="fragments/add_campaign_modal :: add_campaign_modal" th:remove="tag"></div>
    <div class="fixed-action-btn horizontal click-to-toggle">
        <a class="btn-floating btn-large red">
            <i class="material-icons">menu</i>
        </a>
        <ul>
            <li><a class="btn-floating green modal-trigger" href="#modal1"><i class="material-icons">add</i></a></li>
            <li><a class="btn-floating yellow modal-trigger" href="#modal1"><i class="material-icons">edit</i></a></li>
        </ul>
    </div>

    <div class="row">
        <div class="col s12">
            <p class="flow-text" th:text="${client.name}"></p>
            <div class="divider"></div>
            <p th:if="${client.campaignList.empty} == false" class="flow-text">Campaigns</p>
            <p th:if="${client.campaignList.empty}" class="flow-text"> No campaigns found, create a campaign to get started</p>


            <div th:each="campaign : ${client.campaignList}" class="col s12 m6 l4 center">
                <div class="card grey lighten-3 z-depth-3">

                    <a th:href="'/campaign/' + ${campaign.id}"
                       class="btn-floating halfway-fab waves-effect waves-light green"><i
                            class="material-icons">input</i></a>


                    <div class="card-content black-text">
                        <span class="card-title" th:text="${campaign.name}">Campaign Name</span>
                        <div class="divider"></div>
                        <span class="card-title" th:text="${campaign.campaignStatus}">Status</span>
                    </div>

                </div>
            </div>



        </div>
    </div>

</div>

<div th:replace="fragments/footer :: footer"></div>
<script type="text/javascript" src="/js/codebeast/create_campaign.js"></script>
</body>
</html>